{"version":3,"file":"options.js","sourceRoot":"","sources":["options.ts"],"names":[],"mappings":";AAAA;;GAEG;;AAMH,iCAA6B;AAIhB,QAAA,sBAAsB,GAAa;IAC/C,UAAU;IACV,UAAU;IACV,QAAQ;IACR,UAAU;IACV,WAAW;IACX,QAAQ;IACR,UAAU;IACV,KAAK;IACL,QAAQ;IACR,eAAe;IACf,kBAAkB;IAClB,MAAM;IACN,MAAM;IACN,SAAS;IACT,KAAK;IACL,QAAQ;IACR,aAAa;IACb,SAAS;CACT,CAAC;AAEW,QAAA,eAAe,GAAa;IACxC,UAAU;IACV,GAAG,8BAAsB;CACzB,CAAC;AAEW,QAAA,cAAc,GAAa;IACvC,kBAAkB;IAClB,yBAAyB,EAAE,IAAI;IAC/B,iBAAiB,EAAE,KAAK;IACxB,WAAW,EAAE,KAAK;IAElB,UAAU,EAAE,IAAI;IAEhB,YAAY,EAAE,cAAO,CAAC,mBAAmB;CACzC,CAAC;AA6CF,SAAgB,UAAU,CAAC,QAAS,EAAE,UAAoB,EAAE;IAE3D,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,OAAO,QAAQ,IAAI,QAAQ,EAC3D;QACC,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;KAC5C;IAED,IAAI,QAAQ,KAAK,IAAI,IAAI,OAAO,QAAQ,IAAI,WAAW,EACvD;QACC,QAAQ,GAAG,uBAAe,CAAC;KAC3B;IAED,IAAI,GAAG,GAAyB;QAC/B,QAAQ,EAAE,QAAQ,CAAC,KAAK,EAAE;QAC1B,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,sBAAc,EAAE,OAAO,CAAC;KACnD,CAAC;IAEF,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;QAE/B,MAAM,IAAI,CAAC,QAAQ,CAAC;QACpB,MAAM,IAAI,CAAC,OAAO,CAAC;IACpB,CAAC,CAAC;IAEF,IAAI,GAAG,CAAC,OAAO,CAAC,yBAAyB,EACzC;QACC,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,8BAAsB,CAAC,CAAC;KAC3D;IAED,GAAG,CAAC,OAAO,CAAC,YAAY,GAAG,GAAG,CAAC,OAAO,CAAC,YAAY,IAAI,sBAAc,CAAC,YAAY,CAAC;IAEnF,OAAO,GAAqB,CAAC;AAC9B,CAAC;AA/BD,gCA+BC;AAED,kBAAe,OAAqC,CAAC","sourcesContent":["/**\n * Created by user on 2018/3/30/030.\n */\n\nimport {\n\tIReturnList2,\n\tIReturnRow,\n} from './index';\nimport libSort from './sort';\nimport Promise = require('bluebird');\nimport { IOptions as IGlobOptions } from 'glob';\n\nexport const defaultPatternsExclude: string[] = [\n\t'!*.new.*',\n\t'!*.out.*',\n\t'!*.raw',\n\t'!*.raw.*',\n\t'!*.raw/**',\n\t'!*_out',\n\t'!*out/**',\n\t'!.*',\n\t'!.*/**',\n\t'!node_modules',\n\t'!node_modules/**',\n\t'!out',\n\t'!raw',\n\t'!raw/**',\n\t'!~*',\n\t'!~*/**',\n\t'!待修正屏蔽字.txt',\n\t'!英語.txt',\n];\n\nexport const defaultPatterns: string[] = [\n\t'**/*.txt',\n\t...defaultPatternsExclude,\n];\n\nexport const defaultOptions: IOptions = {\n\t//absolute: false,\n\tuseDefaultPatternsExclude: true,\n\tdisableAutoHandle: false,\n\tdisableSort: false,\n\n\tthrowEmpty: true,\n\n\tsortCallback: libSort.defaultSortCallback,\n};\n\nexport type IOptions = IGlobOptions & {\n\tcwd?: string,\n\tabsolute?: boolean,\n\n\tuseDefaultPatternsExclude?: boolean,\n\n\tdisableAutoHandle?: boolean,\n\tdisableSort?: boolean,\n\n\tlibPromise?: Promise<unknown>,\n\n\tonListRow?: (a: IReturnList2, row: IReturnRow, options: IOptions) => IReturnRow,\n\n\tthrowEmpty?: boolean,\n\n\tsortCallback?(a, b): number,\n\n\tsortFn?<T>(arr: T): T,\n\n\tpadNum?: number,\n\n\tcheckRoman?: boolean,\n}\n\nexport interface IReturnOptionsArray\n{\n\t0: string[];\n\t1: IOptions;\n}\n\nexport interface IReturnOptionsObject\n{\n\tpatterns: string[];\n\toptions: IOptions;\n}\n\nexport interface IReturnOptions extends IReturnOptionsArray, IReturnOptionsObject\n{\n\t[Symbol.iterator]()\n}\n\nexport function getOptions(options: IOptions): IReturnOptions\nexport function getOptions(patterns?: string[], options?: IOptions): IReturnOptions\nexport function getOptions(patterns?, options: IOptions = {}): IReturnOptions\n{\n\tif (!Array.isArray(patterns) && typeof patterns == 'object')\n\t{\n\t\t[patterns, options] = [undefined, patterns];\n\t}\n\n\tif (patterns === null || typeof patterns == 'undefined')\n\t{\n\t\tpatterns = defaultPatterns;\n\t}\n\n\tlet ret: IReturnOptionsObject = {\n\t\tpatterns: patterns.slice(),\n\t\toptions: Object.assign({}, defaultOptions, options),\n\t};\n\n\tret[Symbol.iterator] = function* ()\n\t{\n\t\tyield this.patterns;\n\t\tyield this.options;\n\t};\n\n\tif (ret.options.useDefaultPatternsExclude)\n\t{\n\t\tret.patterns = ret.patterns.concat(defaultPatternsExclude);\n\t}\n\n\tret.options.sortCallback = ret.options.sortCallback || defaultOptions.sortCallback;\n\n\treturn ret as IReturnOptions;\n}\n\nexport default exports as typeof import('./options');\n"]}